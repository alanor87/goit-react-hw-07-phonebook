(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={entry:"PbookList_entry__2X2-B",pbookList:"PbookList_pbookList__1QGff",pbookHeader:"PbookList_pbookHeader__10Vio",controlBtnContainer:"PbookList_controlBtnContainer__wQ4cU",entryControlBtn:"PbookList_entryControlBtn__qDVnJ"}},15:function(t,e,n){t.exports={newEntrySection:"InputForm_newEntrySection__2X8VI",inputForm:"InputForm_inputForm__qniTV",newEntryButton:"InputForm_newEntryButton__3WmKG"}},16:function(t,e,n){t.exports={filter:"Filter_filter__1kscG","filter-label":"Filter_filter-label__r_tbq","filter-input":"Filter_filter-input__XU352"}},37:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){"use strict";n.r(e);var r,c,a,o=n(0),i=n.n(o),u=n(14),s=n.n(u),b=n(8),l=n(5),j=n(2),f=n(3),d=n(28),O=Object(j.b)("entry/addEntryRequest"),p=Object(j.b)("entry/addEntrySuccess"),h=Object(j.b)("entry/addEntryError"),m=Object(j.b)("entry/deleteEntryRequest"),y=Object(j.b)("entry/deleteEntrySuccess"),x=Object(j.b)("entry/deleteEntryError"),_=Object(j.b)("entry/fetchEntriesRequest"),v=Object(j.b)("entry/fetchEntriesSuccess"),g=Object(j.b)("entry/fetchEntriesError"),E=Object(j.c)([],(r={},Object(f.a)(r,v,(function(t,e){return e.payload})),Object(f.a)(r,p,(function(t,e){var n=e.payload;return[].concat(Object(d.a)(t),[{name:n.name,number:n.number,id:n.id}])})),Object(f.a)(r,y,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),r)),k=Object(j.c)("",(c={},Object(f.a)(c,g,(function(t,e){var n=e.payload;return alert("Error fetching item!"),n})),Object(f.a)(c,h,(function(t,e){var n=e.payload;return alert("Error adding item!"),n})),Object(f.a)(c,x,(function(t,e){var n=e.payload;return alert("Error deleting item!"),n})),c)),N=Object(j.c)(!1,(a={},Object(f.a)(a,_,(function(){return!0})),Object(f.a)(a,v,(function(){return!1})),Object(f.a)(a,O,(function(){return!0})),Object(f.a)(a,p,(function(){return!1})),Object(f.a)(a,h,(function(){return!1})),Object(f.a)(a,m,(function(){return!0})),Object(f.a)(a,y,(function(){return!1})),Object(f.a)(a,x,(function(){return!1})),a)),C=Object(l.b)({entries:E,loading:N,error:k}),F=Object(j.b)("changeFilter"),w=Object(j.c)("",Object(f.a)({},F,(function(t,e){return e.payload}))),B=Object(l.b)({items:C,filter:w}),L=Object(l.b)({contacts:B}),S=Object(j.a)({reducer:L}),I=(n(37),n(6)),q=n(7),P=n(10),A=n(9),D=n(13),H=n.n(D);H.a.defaults.baseURL="http://localhost:4040";var R=n(15),V=n.n(R),G=n(1),J=function(t){Object(P.a)(n,t);var e=Object(A.a)(n);function n(){var t;Object(I.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.onNameInput=function(e){t.setState({name:e.target.value})},t.onNumberInput=function(e){t.setState({number:e.target.value})},t.onSubmitEntry=function(e){e.preventDefault(),t.props.onAddEntry(t.state),e.target.reset()},t}return Object(q.a)(n,[{key:"render",value:function(){return Object(G.jsx)("section",{className:V.a.newEntrySection,children:Object(G.jsxs)("form",{className:V.a.inputForm,onSubmit:this.onSubmitEntry,children:[Object(G.jsxs)("label",{className:"inputLabel",children:["First / Last name :",Object(G.jsx)("input",{className:"inputField",type:"text",onChange:this.onNameInput,required:!0})]}),Object(G.jsxs)("label",{className:"inputLabel",children:["Phone number :",Object(G.jsx)("input",{className:"inputField",type:"tel",onChange:this.onNumberInput,required:!0})]}),Object(G.jsx)("button",{className:V.a.newEntryButton,type:"submit",children:"Add entry"})]})})}}]),n}(i.a.Component),U=Object(b.b)(null,(function(t){return{onAddEntry:function(e){return t(function(t){return function(e){e(O()),H.a.post("/contacts",t).then((function(t){return t.data})).then((function(t){return e(p(t))})).catch((function(t){e(h(t.message))}))}}(e))}}}))(J),X=n(16),M=n.n(X),Q=function(t){Object(P.a)(n,t);var e=Object(A.a)(n);function n(){var t;Object(I.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).filterChangeHandler=function(e){t.props.onChangeFilter(e.target.value)},t}return Object(q.a)(n,[{key:"render",value:function(){return Object(G.jsx)("div",{className:M.a.filter,children:Object(G.jsxs)("label",{className:M.a["filter-label"],children:["Find contacts by name",Object(G.jsx)("br",{}),Object(G.jsx)("input",{className:M.a["filter-input"],type:"text",onChange:this.filterChangeHandler})]})})}}]),n}(i.a.Component),K=Object(b.b)(null,(function(t){return{onChangeFilter:function(e){return t(F(e))}}}))(Q),T=n(12),W=function(t){return t.contacts.items.loading},z=Object(T.a)([function(t){return t.contacts.items.entries},function(t){return t.contacts.filter}],(function(t,e){return t.filter((function(t){return t.name.includes(e)}))})),Y=n(11),Z=n.n(Y),$=function(t){Object(P.a)(n,t);var e=Object(A.a)(n);function n(){return Object(I.a)(this,n),e.apply(this,arguments)}return Object(q.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchEntries()}},{key:"render",value:function(){var t=this.props,e=t.entries,n=t.onDelete;return Object(G.jsxs)("section",{children:[Object(G.jsxs)("div",{className:"".concat(Z.a.entry," ").concat(Z.a.pbookHeader),children:[Object(G.jsx)("span",{children:"Name"}),Object(G.jsx)("span",{children:"Phone number"}),Object(G.jsx)("span",{children:"Actions"})]}),Object(G.jsx)("ul",{className:Z.a.pbookList,children:e.map((function(t){return Object(G.jsxs)("li",{className:Z.a.entry,children:[Object(G.jsx)("span",{children:t.name}),Object(G.jsx)("span",{children:t.number}),Object(G.jsx)("div",{className:Z.a.controlBtnContainer,children:Object(G.jsx)("button",{className:Z.a.entryControlBtn,type:"button","data-id":t.id,onClick:n,children:"Delete"})})]},t.id)}))})]})}}]),n}(i.a.Component),tt=Object(b.b)((function(t){return{entries:z(t),loading:W(t)}}),(function(t){return{onDelete:function(e){return t((n=Number(e.target.dataset.id),function(t){t(m()),H.a.delete("/contacts/".concat(n)).then((function(){return t(y(n))})).catch((function(e){return t(x(e.message))}))}));var n},onFetchEntries:function(){return t((function(t){t(_()),H.a.get("/contacts").then((function(e){return t(v(e.data))})).catch((function(e){return t(g(e.message))}))}))}}}))($),et=(n(57),function(t){Object(P.a)(n,t);var e=Object(A.a)(n);function n(){return Object(I.a)(this,n),e.apply(this,arguments)}return Object(q.a)(n,[{key:"render",value:function(){return Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)("h1",{children:"PhoneBook / home"}),Object(G.jsx)(U,{}),Object(G.jsx)(K,{}),Object(G.jsx)(tt,{})]})}}]),n}(o.Component));s.a.render(Object(G.jsx)(i.a.StrictMode,{children:Object(G.jsx)(b.a,{store:S,children:Object(G.jsx)(et,{})})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.939356dd.chunk.js.map